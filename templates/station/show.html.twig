{% extends 'base.html.twig' %}

{% block body %}
	<div class="conteneur">
		<h1 class="name">
			{{ station.name }}</h1>

		<h2 class="probtitle">Nos pistes :</h2>
		<div class="lift">
			{% for slope in slopes %}
				<li class="lifts">
					{% if slope.station.id == station.id  %}
						<a class="button" href="{{ path('app_lift_show', { id: slope.id }) }}" class="card-title">{{ slope.name }}</a>
					</li>
				{% endif %}
			{% endfor %}
		</div>

		<h2 class="probtitle">Nos remontées :</h2>
		<div class="lift">
			{% for lift in lifts %}
				<li class="lifts">
					{% if lift.station.id == station.id  %}
						<a class="button" href="{{ path('app_lift_show', { id: lift.id }) }}" class="card-title">{{ lift.name }}</a>
					</li>
				{% endif %}
			{% endfor %}
		</div>

		<h2 class="probtitle">Les derniers problèmes signalés :</h2>

		<div class="problem">

			<div class="problist">
				{% for problem in problems %}
					<li class="solo">
						{% if problem.station.id == station.id  %}
							<h2 class="titre">{{ problem.title }}</h2>
							<p class="description">{{ problem.description }}</p>
							<!--afficher l'heure d'envoie-->
							<p class="date">Envoyé le
								{{ problem.date|date('d/m/Y') }}
								à
								{{ problem.date|date('H:i') }}</p>
						</li>
					{% endif %}

				{% endfor %}
			</div>
		</div>

		<div class="probleme">
			<h2 class="probtitle">Signaler un problème :</h2>

			<form method="post" class="form">
				{{ form_start(form) }}

				{{ form_row(form.title, {'attr': {'class': 'form-title', 'placeholder': 'Quel type de problème ?'}   }) }}

				{{ form_row(form.description, {'attr': {'class': 'form-descr', 'placeholder': 'Décrivez-nous votre problème.'}}) }}

				<button type="submit">Enregistrer</button>

				{{ form_end(form) }}
			</form>
		</div>

		{% if station.weather == 'snowy' %}
			{% include "_partials/_snowfall.html.twig" %}
		{% endif %}

	</div>

	<style>

		.form {
			display: flex;
			flex-direction: column;
			align-items: center;
			text-align: center;
		}

		.form-title {}

		.probleme {
			display: flex;
			flex-direction: column;
			align-items: center;
			text-align: center;
			width: 30vw;
			height: 30vh;
			background-color: rgb(169, 165, 169, 0.95);
			margin: 10px auto;
			padding: 10px;
			border-radius: 10px;
		}

		label {
			display: none;
		}
		* {
			font-family: 'Roboto', sans-serif;
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		body {
			/*background-image: url('../lessaisies3.png');*/
			background-color: #5D5B5D;
			background-size: cover;
			background-repeat: no-repeat;
			height: 100vh;
			width: 100vw;
		}

		.pistes {
			font: bold 35px Roboto, sans-serif;
			text-decoration: none;
			mix-blend-mode: screen;
			margin-top: 35px;
			background-color: rgb(255, 255, 255, 0.8);
			margin-left: auto;
			margin-right: auto;
			width: 25vw;
		}

		h2 {
			color: white;
		}

		.lift {
			display: flex;
			flex-wrap: wrap;
			list-style: none;
			width: 80vw;
			margin-left: auto;
			margin-right: auto;
		}

		.lifts {
			display: flex;
			justify-content: space-around;
		}

		.button {
			font: bold 20px Roboto, sans-serif;
			text-decoration: none;
			mix-blend-mode: screen;
			text-align: center;
			justify-content: center;
			align-items: center;
			background-color: rgb(255, 255, 255, 0.8);
			border-radius: 10px;
			margin: 50px 25px 25px;
			padding: 30px 50px;
		}
		.button:hover {
			background-color: rgb(255, 255, 255);
		}


		.conteneur {
			margin: 4%;
			border-radius: 10px;
		}

		.problem {
			display: flex;
			flex-direction: column;
			width: 80vw;
			height: auto;
			list-style: none;
			margin-left: 5%;
			margin-right: 5%;
			margin-top: 10px;
			padding: 10px;
			border-radius: 10px;
		}

		.probtitle {
			margin-top: 45px;
			font: white bold Roboto, sans-serif;
			font-size: 30px;
			text-align: center;
		}

		.problist {
			display: flex;
			justify-content: space-around;
		}

		.solo {
			display: flex;
			flex-direction: column;
			justify-content: space-around;
			align-items: center;
			text-align: center;
			width: 30vw;
			height: 30vh;
			background-color: rgb(169, 165, 169, 0.95);
			margin: 10px;
			padding: 10px;
			border-radius: 10px;
		}

		.titre {
			color: #5D5B5D;
		}

		.date {
			font: bold 15px Roboto, sans-serif
		}

		.name {
			text-align: center;
			font-size: 50px;
			color: white;
			margin-top: 50px;
		}
	</style>
{% endblock %}
